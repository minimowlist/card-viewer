<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Parent Quality Time</title>

<style>
*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  transition:background-color .15s,color .15s,border-color .15s;
}
:root{
  --bg:#f6f7f4;
  --text:#1f2937;
  --muted:#6b7280;
  --card:#ffffff;
  --primary:#3b82f6;
  --border:rgba(0,0,0,.18);
}
body.dark{
  --bg:#0f172a;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --card:#020617;
  --border:rgba(255,255,255,.25);
}
body{
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* splash */
#splash{
  position:fixed; inset:0;
  background:var(--bg);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:999;
}
#splash span{
  font-size:13px;
  color:var(--muted);
  animation:splash 3.6s ease-in-out forwards;
}
@keyframes splash{
  0%{opacity:0}
  25%{opacity:.8}
  40%{opacity:0}
  60%{opacity:.8}
  80%{opacity:0}
  100%{opacity:0}
}

/* app */
#app{width:100%;max-width:420px;padding:24px}
.screen{display:none;opacity:0}
.screen.active{display:block;animation:fadeIn 1s ease forwards}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* menu */
h1{text-align:center;font-size:26px;margin-bottom:6px}
.subtitle{text-align:center;font-size:14.5px;color:var(--muted)}
.preview-card{
  background:var(--card);
  border-radius:20px;
  padding:20px;
  margin:22px 0;
}
.preview-divider{margin:12px 0;border-top:1px dashed var(--border)}
.preview-note{font-size:13.5px;color:var(--muted);font-style:italic}
.micro{text-align:center;font-size:13px;color:var(--muted);margin-bottom:26px}
button.main{
  width:100%;height:54px;
  border:none;border-radius:16px;
  background:var(--primary);color:#fff;
  font-size:16px;font-weight:600;
  cursor:pointer;
}

/* card */
#top{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:13px;
  margin-bottom:10px;
  color:var(--muted);
}
#category-chip{
  border:1px solid var(--border);
  padding:2px 10px;
  border-radius:999px;
  font-size:12px;
  cursor:pointer;
}
#dark-btn{
  border:1px solid var(--border);
  padding:6px 12px;
  border-radius:999px;
  cursor:pointer;
  background:var(--card);
}
#card{
  background:var(--card);
  border-radius:22px;
  padding:24px 20px;
  min-height:260px;
}
.question{
  font-size:21px;
  font-weight:600;
  line-height:1.5;
  opacity:0;
  transition:opacity 1s ease;
}
.question.show{opacity:1}

/* guide */
#guide{
  margin-top:14px;
  padding-top:14px;
  border-top:1px dashed var(--border);
  opacity:0;
  transform:translateY(-6px);
  pointer-events:none;
  transition:.35s;
}
#guide.show{
  opacity:1;
  transform:translateY(0);
  pointer-events:auto;
}
#note{font-size:14px;margin-bottom:8px}
#insight{font-size:13.5px;color:var(--muted);font-style:italic}
#guide-toggle{
  text-align:center;
  margin-top:14px;
  font-size:14px;
  color:var(--muted);
  cursor:pointer;
}

/* category sheet */
#sheet{
  position:fixed; inset:0;
  background:rgba(0,0,0,.35);
  display:none;
  justify-content:center;
  align-items:flex-end;
}
#sheet.show{display:flex}
.sheet-box{
  background:var(--card);
  width:100%;max-width:420px;
  border-radius:18px 18px 0 0;
  padding:20px;
}
.sheet-box div{padding:12px 0;cursor:pointer}
.sheet-box div:not(:last-child){
  border-bottom:1px dashed var(--border);
}
.sheet-box small{
  display:block;margin-top:12px;
  font-size:12px;color:var(--muted);
  text-align:center;
}
</style>
</head>

<body>

<div id="splash"><span>made with ‚ù§Ô∏è by bekaldigital</span></div>

<div id="app">

<div id="menu" class="screen">
  <h1>Parent Quality Time</h1>
  <div class="subtitle">Obrolan sederhana untuk membangun kedekatan orang tua dan anak</div>
  <div class="preview-card">
    <div id="previewQ"></div>
    <div class="preview-divider"></div>
    <div class="preview-note" id="previewN"></div>
  </div>
  <div class="micro">Tidak perlu waktu lama.<br>Yang penting hadir sepenuhnya.</div>
  <button class="main" id="startBtn">Mulai obrolan</button>
</div>

<div id="card-screen" class="screen">
  <div id="top">
    <div>
      <span id="progress"></span>
      <span id="category-chip"></span>
    </div>
    <button id="dark-btn">üåô</button>
  </div>

  <div id="card">
    <div id="question" class="question"></div>
    <div id="guide">
      <div id="note"></div>
      <div id="insight"></div>
    </div>
  </div>

  <button class="main" style="margin-top:16px" id="nextBtn">Lanjut</button>
  <div id="guide-toggle">Panduan obrolan</div>
</div>

</div>

<div id="sheet">
  <div class="sheet-box">
    <div data-i="0">üí¨ Pembuka</div>
    <div data-i="1">üìñ Cerita</div>
    <div data-i="2">üòä Perasaan</div>
    <div data-i="3">üåô Penutup</div>
    <small>Pilih sesi yang ingin dilanjutkan</small>
  </div>
</div>

<script>
/* splash */
setTimeout(()=>{
  splash.remove();
  menu.classList.add("active");
},3600);

/* preview */
const previews=[
 ["Ada momen kecil hari ini yang bikin kamu senyum?","Pertanyaan ringan untuk membuka obrolan."],
 ["Bagian mana dari hari ini yang paling kamu ingat?","Membantu anak mulai bercerita."],
 ["Kalau hari ini jadi cerita, judulnya apa?","Melatih ekspresi sederhana."]
];
const p=previews[Math.floor(Math.random()*previews.length)];
previewQ.textContent=p[0];
previewN.textContent=p[1];

/* ==== DATA 33 KARTU (FINAL) ==== */
const flow=[
{icon:"üí¨",name:"Pembuka",cards:[
"Hal kecil apa hari ini yang bikin kamu senyum?",
"Ada kejadian sederhana yang masih kamu ingat?",
"Siapa orang yang paling kamu ingat hari ini?",
"Apa bagian paling nyaman dari harimu?",
"Kalau hari ini pelan, rasanya seperti apa?",
"Ada hal yang ingin kamu ceritakan tapi belum sempat?",
"Kalau hari ini punya judul, apa judulnya?",
"Ada satu momen yang ingin kamu ulangi?"
].map(q=>[q,"Dengarkan tanpa menyela.","Pembuka yang aman."])},

{icon:"üìñ",name:"Cerita",cards:[
"Bagian mana dari hari ini yang paling seru?",
"Ada kejadian lucu yang ingin kamu ceritakan?",
"Apa hal baru yang kamu alami hari ini?",
"Ada cerita yang ingin kamu simpan lama-lama?",
"Kalau kamu jadi tokoh cerita hari ini, kamu digambarkan seperti apa?",
"Ada kejadian yang bikin kamu berpikir?",
"Bagian hari ini yang paling menantang apa?",
"Kalau cerita hari ini diceritakan lagi, bagian mana yang penting?",
"Apa cerita kecil yang hampir terlupa?"
].map(q=>[q,"Biarkan anak bercerita bebas.","Cerita membangun makna."])},

{icon:"üòä",name:"Perasaan",cards:[
"Kalau perasaanmu hari ini jadi warna, warnanya apa?",
"Ada perasaan yang paling sering muncul hari ini?",
"Hari ini lebih banyak senang atau capek?",
"Ada perasaan yang sulit kamu jelaskan?",
"Kalau perasaanmu punya suara, nadanya bagaimana?",
"Ada hal yang bikin kamu kesal hari ini?",
"Perasaan apa yang ingin kamu rasakan besok?",
"Apa perasaan yang ingin kamu simpan?"
].map(q=>[q,"Terima perasaan tanpa menghakimi.","Emosi perlu diakui."])},

{icon:"üåô",name:"Penutup",cards:[
"Ada hal yang ingin kamu syukuri hari ini?",
"Kalau hari ini ditutup doa, mau doa apa?",
"Apa satu kata untuk hari ini?",
"Ada hal yang ingin kamu lepaskan sebelum tidur?",
"Sebelum tidur, mau bilang apa ke diri sendiri?",
"Apa hal kecil yang membuatmu tenang malam ini?",
"Besok ada hal yang kamu tunggu?",
"Siapkah kita istirahat bersama?"
].map(q=>[q,"Nada lembut, tidak terburu-buru.","Menutup dengan tenang."])}
];

let catIndex=0, cardIndex=0;

/* render */
function render(){
  const c=flow[catIndex];
  const card=c.cards[cardIndex];

  question.classList.remove("show");
  question.textContent=card[0];
  void question.offsetWidth;   // paksa reflow
  question.classList.add("show");

  note.textContent=card[1];
  insight.textContent=card[2];

  progress.textContent=`Obrolan ${cardIndex+1} / ${c.cards.length}`;
  categoryChip.textContent=` ${c.icon} ${c.name}`;
  guide.classList.remove("show");
}

/* flow */
startBtn.onclick=()=>{
  menu.classList.remove("active");
  cardScreen.classList.add("active");
  render();
};
nextBtn.onclick=()=>{
  cardIndex++;
  if(cardIndex>=flow[catIndex].cards.length){
    catIndex=Math.min(catIndex+1,flow.length-1);
    cardIndex=0;
  }
  render();
};
guide_toggle.onclick=()=>guide.classList.toggle("show");
dark_btn.onclick=()=>{
  document.body.classList.toggle("dark");
  dark_btn.textContent=document.body.classList.contains("dark")?"‚òÄÔ∏è":"üåô";
};
category_chip.onclick=()=>sheet.classList.add("show");
sheet.onclick=e=>{if(e.target===sheet)sheet.classList.remove("show")};
document.querySelectorAll("[data-i]").forEach(el=>{
  el.onclick=()=>{
    catIndex=+el.dataset.i;
    cardIndex=0;
    sheet.classList.remove("show");
    render();
  };
});
</script>

</body>
</html>